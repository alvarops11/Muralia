<div class="modal-container">
    <div class="modal-header">
        <span class="header-icon">üîç</span>
        <h3>Buscar Post-it</h3>
    </div>

    <div class="modal-body">
        <div class="search-row">
            <div class="search-input-wrapper">
                <span class="search-icon">üîç</span>
                <input type="text" [(ngModel)]="terminoBusqueda" class="search-input"
                    placeholder="Buscar por palabra clave o contenido...">
            </div>
            <button class="btn-search-action">üîç</button>
        </div>

        <div class="filters-row">
            <button class="filter-chip" [class.active]="filtroActual === 'Todos'"
                (click)="cambiarFiltro('Todos')">Todos</button>
            <button class="filter-chip" [class.active]="filtroActual === 'Con archivos'"
                (click)="cambiarFiltro('Con archivos')">Con archivos</button>
            <button class="filter-chip" [class.active]="filtroActual === 'Destacados'"
                (click)="cambiarFiltro('Destacados')">Destacados</button>
            <button class="filter-chip" [class.active]="filtroActual === 'Mi contribucci√≥n'"
                (click)="cambiarFiltro('Mi contribucci√≥n')">Mi contribucci√≥n</button>
        </div>

        <div class="status-box success" *ngIf="terminoBusqueda">
            <span class="check-icon">‚úÖ</span>
            <span>Se encontraron <strong>{{ resultadosFiltrados.length }} resultados</strong> para "{{ terminoBusqueda
                }}"</span>
        </div>

        <div class="results-list"
            style="max-height: 400px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px;">
            <div *ngFor="let posit of resultadosFiltrados" class="result-card">
                <div class="result-content">
                    <h4 class="result-title">{{ posit.titulo }}</h4>
                    <p class="result-desc">{{ posit.contenido | slice:0:100 }}{{ posit.contenido.length > 100 ? '...' :
                        '' }}</p>
                </div>
                <button class="btn-ver" (click)="seleccionar(posit.posit_id)">Ver</button>
            </div>

            <div *ngIf="resultadosFiltrados.length === 0" class="no-results"
                style="text-align: center; padding: 20px; color: #666;">
                No se han encontrado post-its que coincidan con la b√∫squeda.
            </div>
        </div>
    </div>
</div>